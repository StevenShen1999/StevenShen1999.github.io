import{c as _,V as v,e as T}from"./VTextField.ef239589.js";import{l as m,U as c,N as d,O as g,n as r,P as l,R as u,ah as V,S as p,ai as C,M as y}from"./index.4c74adfc.js";import{_ as S}from"./loader.038b3bf5.js";import{b as x,V as b,a as U}from"./VDivider.7d1a9e6e.js";const $=m({data(){return{dataSource:null,headers:[{text:"Topic",value:"Content",width:150},{text:"Updated",value:"UpdatedAt",sortable:!0},{text:"Discussed",value:"DeletedAt",sortable:!0}]}},methods:{convertTime(e){let t=e.split("T"),a=t[0],s=t[1].split("."),o=t[1].split("+");return a+" "+s[0]+"+"+o[1]},fetchTopics(e){let t=`${this.$hostname}/api/topics`,a="?";e.deleted&&(a+="all=true"),a!=="?"&&(t+=a),_.get(`${t}`).then(s=>{this.dataSource=s.data,this.dataSource.forEach(o=>{o.CreatedAt=this.convertTime(o.CreatedAt),o.UpdatedAt=this.convertTime(o.UpdatedAt)})}).catch(s=>{console.log(s)})},save(e){console.log("GOT HERE"),console.log(e)}},mounted(){this.fetchTopics({deleted:!0})}});function E(e,t,a,s,o,D){const f=c("v-edit-dialog"),h=c("EasyDataTable");return d(),g(y,null,[r(b,{flat:""},{default:l(()=>[r(x,{style:{"text-align":"center"}},{default:l(()=>[u("History of Us")]),_:1})]),_:1}),r(U,{class:"mx-4",vertical:""}),r(T,{class:"fill-height"},{"item.name":l(n=>[r(f,{"return-value":n.item.Content,onSave:t[0]||(t[0]=i=>e.save(i))},{input:l(()=>[r(v,{modelValue:n.item.Content,"onUpdate:modelValue":i=>n.item.Content=i,label:"Edit","single-line":"",counter:""},null,8,["modelValue","onUpdate:modelValue"])]),default:l(()=>[u(V(n.item.Content)+" ",1)]),_:2},1032,["return-value"])]),default:l(()=>[e.dataSource?(d(),p(h,{key:0,headers:e.headers,items:e.dataSource,"rows-per-page":10},null,8,["headers","items"])):C("",!0)]),_:1})],64)}const A=S($,[["render",E]]),B=m({__name:"History",setup(e){return(t,a)=>(d(),p(A))}});export{B as default};
