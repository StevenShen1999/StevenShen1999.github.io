import{a as A,m as me,b as ve,u as pe,f as ge,c as he,V as Ce,d as Ve,e as xe,g as ke,h as be,i as L,j as _e,k as ye,l as Te,n as we,o as Q,p as b,q as $e,r as De}from"./VSnackbar.bc774e57.js";import{l as j,s as Fe,u as Ie,c as F,r as _,o as Se,z as y,k as Pe,ah as Be,n as t,q as U,M as S,w as J,B as Re,ai as ze,K as X,aj as Ne,b as He,ak as Me,N as g,S as G,P as n,R as v,al as P,O as B,Q as V,am as R,an as u,U as Ue}from"./index.d7779145.js";import{I as Ae,a as Ge,_ as Y,B as je,V as p,D as Z,E as qe,C as Ee,w as I}from"./VAvatar.84b21b2e.js";const Oe=j({data(){return{topicContent:null,topicDescription:null,userId:1,submitted:!1}},methods:{closeDialog(e){this.$emit("close-dialog",e)},submitTopic(){this.submitted=!0,A.post(`${this.$hostname}/api/topics`,{userId:1,content:this.topicContent,description:this.topicDescription}).then(e=>{this.closeDialog(e.data)}).catch(e=>{console.log(e),this.closeDialog({status:`Failed, ${e}`})})}}});const We=Fe({name:"VTextarea",directives:{Intersect:Ae},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...me(),...ve()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:i,emit:x,slots:r}=a;const s=Ie(e,"modelValue"),{isFocused:l,focus:c,blur:ee}=pe(e),te=F(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),ae=F(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function oe(o,d){var f,m;!e.autofocus||!o||(f=d[0].target)==null||(m=f.focus)==null||m.call(f)}const q=_(),T=_(),E=_(""),w=_(),O=F(()=>l.value||e.persistentPlaceholder),ne=F(()=>e.messages.length?e.messages:O.value||e.persistentHint?e.hint:"");function z(){if(w.value!==document.activeElement){var o;(o=w.value)==null||o.focus()}l.value||c()}function le(o){z(),x("click:control",o)}function ie(o){o.stopPropagation(),z(),X(()=>{s.value="",Ne(e["onClick:clear"],o)})}function se(o){s.value=o.target.value}const h=_();function C(){!e.autoGrow||X(()=>{if(!h.value||!T.value)return;const o=getComputedStyle(h.value),d=getComputedStyle(T.value.$el),f=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),m=h.value.scrollHeight,N=parseFloat(o.lineHeight),H=Math.max(parseFloat(e.rows)*N+f,parseFloat(d.getPropertyValue("--v-input-control-height"))),M=parseFloat(e.maxRows)*N+f||1/0;E.value=He(Me(m!=null?m:0,H,M))})}Se(C),y(s,C),y(()=>e.rows,C),y(()=>e.maxRows,C),y(()=>e.density,C);let $;return y(h,o=>{if(o)$=new ResizeObserver(C),$.observe(h.value);else{var d;(d=$)==null||d.disconnect()}}),Pe(()=>{var o;(o=$)==null||o.disconnect()}),Ge(()=>{const o=!!(r.counter||e.counter||e.counterValue),d=!!(o||r.details),[f,m]=Be(i),[{modelValue:N,...H}]=ge(e),[M]=he(e);return t(xe,U({ref:q,modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},f,H,{focused:l.value,messages:ne.value}),{...r,default:k=>{let{isDisabled:D,isDirty:W,isReadonly:re,isValid:ue}=k;return t(Ce,U({ref:T,style:{"--v-textarea-control-height":E.value},"onClick:control":le,"onClick:clear":ie,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},M,{active:O.value||W.value,dirty:W.value||e.dirty,focused:l.value,error:ue.value===!1}),{...r,default:ce=>{let{props:{class:K,...de}}=ce;return t(S,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),J(t("textarea",U({ref:w,class:K,value:s.value,onInput:se,autofocus:e.autofocus,readonly:re.value,disabled:D.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:z,onBlur:ee},de,m),null),[[Re("intersect"),{handler:oe},null,{once:!0}]]),e.autoGrow&&J(t("textarea",{class:[K,"v-textarea__sizer"],"onUpdate:modelValue":fe=>s.value=fe,ref:h,readonly:!0,"aria-hidden":"true"},null),[[ze,s.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:d?k=>{var D;return t(S,null,[(D=r.details)==null?void 0:D.call(r,k),o&&t(S,null,[t("span",null,null),t(Ve,{active:e.persistentCounter||l.value,value:te.value,max:ae.value},r.counter)])])}:void 0})}),ke({},q,T,w)}}),Ke={class:"text-center"};function Le(e,a,i,x,r,s){return g(),G(Te,null,{default:n(()=>[t(be,{class:"text-h5"},{default:n(()=>[v(P(e.submitted?"Please Standby":"Create Topic"),1)]),_:1}),e.submitted?R("",!0):(g(),B("form",{key:0,onSubmit:a[2]||(a[2]=V((...l)=>e.submitTopic&&e.submitTopic(...l),["prevent"]))},[t(L,null,{default:n(()=>[t(_e,{modelValue:e.topicContent,"onUpdate:modelValue":a[0]||(a[0]=l=>e.topicContent=l),label:"New Topic",required:""},null,8,["modelValue"]),t(We,{filled:"",name:"input-7-4",label:"Description (Optional)",modelValue:e.topicDescription,"onUpdate:modelValue":a[1]||(a[1]=l=>e.topicDescription=l)},null,8,["modelValue"])]),_:1}),t(ye,null,{default:n(()=>[t(je),t(p,{color:"red darken-1",text:"",onClick:V(e.closeDialog,["stop"])},{default:n(()=>[v(" Cancel ")]),_:1},8,["onClick"]),t(p,{color:"green darken-1",text:"",variant:"flat",type:"submit"},{default:n(()=>[v(" Submit ")]),_:1})]),_:1})],32)),e.submitted?(g(),G(L,{key:1},{default:n(()=>[u("div",Ke,[t(Z,{color:"purple",indeterminate:"",center:""})])]),_:1})):R("",!0)]),_:1})}const Qe=Y(Oe,[["render",Le]]),Je=j({data(){return{loading:!1,createTopic:!1,snackbar:!1,errorMessage:null,retrievedTopic:null}},methods:{handleCreation(e){if(this.errorMessage=null,this.createTopic=!1,e.status)this.errorMessage=e.status;else if(e.ID)console.log("Success!");else return;this.snackbar=!0},convertTime(e){let a=e.split("T"),i=a[0],x=a[1].split("."),r=a[1].split("+");return i+" "+x[0]+"+"+r[1]},retrieveTopic(e=!0){this.loading=!0;let a=`${this.$hostname}/api/topics/`;e?a+="first":a+="random",A.get(a).then(i=>{this.retrievedTopic=i.data,this.loading=!1}).catch(i=>{console.log(i),this.loading=!1})},deleteTopic(){A.delete(`${this.$hostname}/api/topics/${this.retrievedTopic.ID}`).then(e=>{this.retrievedTopic=null}).catch(e=>{console.log(e)})}},components:{CreateTopic:Qe}}),Xe="/assets/polite.4609c368.svg",Ye=u("div",{class:"text-body-2 font-weight-light mb-n1"},"Welcome to",-1),Ze=u("h1",{class:"text-h2 font-weight-bold"},"Box of Curiosity",-1),et=u("div",{class:"py-7"},null,-1),tt=u("div",{class:"py-3"},null,-1),at={key:0},ot={class:"text-center"},nt={key:1},lt=u("div",{class:"text-body font-weight-light mb-n1"},"Topic of the Day",-1),it={class:"text-h4 font-weight-bold font-italic"},st={class:"text-body font-weight-light mb-n1"},rt=u("div",{class:"py-2"},null,-1),ut=u("b",null,"Finished Discussion",-1);function ct(e,a,i,x,r,s){const l=Ue("CreateTopic");return g(),B(S,null,[t($e,{class:"fill-height"},{default:n(()=>[t(we,{modelValue:e.createTopic,"onUpdate:modelValue":a[0]||(a[0]=c=>e.createTopic=c),"max-width":"500"},{default:n(()=>[t(l,{onCloseDialog:e.handleCreation},null,8,["onCloseDialog"])]),_:1},8,["modelValue"]),t(qe,{class:"d-flex align-center text-center fill-height"},{default:n(()=>[t(Ee,{contain:"",height:"300",src:Xe}),Ye,Ze,et,t(Q,{class:"d-flex align-center justify-center"},{default:n(()=>[t(b,{cols:"auto"},{default:n(()=>[t(p,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:a[1]||(a[1]=V(c=>e.createTopic=!0,["stop"]))},{default:n(()=>[t(I,{icon:"mdi-note-edit-outline",size:"large",start:""}),v(" Create Topic ")]),_:1})]),_:1}),t(b,{cols:"auto"},{default:n(()=>[t(p,{color:"primary","min-width":"228","max-width":"228",rel:"noopener noreferrer",size:"x-large",target:"_blank",variant:"flat",onClick:V(e.retrieveTopic,["stop"])},{default:n(()=>[t(I,{icon:"mdi-magnify",size:"large",start:""}),v(" Retrieve Topic ")]),_:1},8,["onClick"])]),_:1}),t(b,{cols:"auto"},{default:n(()=>[t(p,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:a[2]||(a[2]=V(c=>e.retrieveTopic(!1),["stop"]))},{default:n(()=>[t(I,{icon:"mdi-sunglasses",size:"large",start:""}),v(" I'm Feeling Lucky ")]),_:1})]),_:1})]),_:1}),tt,e.loading?(g(),B("div",at,[u("div",ot,[t(Z,{color:"blue",indeterminate:"",center:""})])])):R("",!0),e.retrievedTopic&&!e.loading?(g(),B("div",nt,[lt,u("h1",it,P(e.retrievedTopic.Content),1),u("div",st,"Recorded on "+P(e.retrievedTopic.UpdatedAt),1),rt,t(p,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:V(e.deleteTopic,["stop"])},{default:n(()=>[t(I,{icon:"mdi-check-all",size:"large",start:""}),ut]),_:1},8,["onClick"])])):R("",!0)]),_:1})]),_:1}),t(De,{modelValue:e.snackbar,"onUpdate:modelValue":a[4]||(a[4]=c=>e.snackbar=c)},{default:n(()=>[t(Q,{class:"d-flex align-center justify-space-between"},{default:n(()=>[t(b,{cols:"auto"},{default:n(()=>[v(P(e.errorMessage?`Something Went Wrong: ${e.errorMessage}`:"Success"),1)]),_:1}),t(b,{cols:"auto"},{default:n(()=>[t(p,{color:"pink",text:"",onClick:a[3]||(a[3]=c=>e.snackbar=!1)},{default:n(()=>[v(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const dt=Y(Je,[["render",ct]]),pt=j({__name:"Home",setup(e){return(a,i)=>(g(),G(dt))}});export{pt as default};
