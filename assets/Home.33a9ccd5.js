import{a as V,V as I,b as k,c as z,d as N,e as x,f as M,g as D,h as w,i as f,j as P,k as R}from"./VSnackbar.bcd488e0.js";import{l as b,N as r,S as v,P as i,n as t,R as a,ah as m,O as h,Q as u,ai as g,aj as s,U as S,M as j,ak as H,al as W}from"./index.5d3cb612.js";import{_ as $,B,V as c,D as F,E as q,C as A,w as C}from"./VAvatar.622be82b.js";const E=b({data(){return{topicContent:null,topicDescription:null,userId:1,submitted:!1}},methods:{closeDialog(e){this.$emit("close-dialog",e)},submitTopic(){this.submitted=!0,V.post(`${this.$hostname}/api/topics`,{userId:1,content:this.topicContent,description:this.topicDescription}).then(e=>{this.closeDialog(e.data)}).catch(e=>{console.log(e),this.closeDialog({status:`Failed, ${e}`})})}}}),O={class:"text-center"};function L(e,o,l,_,T,y){return r(),v(M,null,{default:i(()=>[t(I,{class:"text-h5"},{default:i(()=>[a(m(e.submitted?"Please Standby":"Create Topic"),1)]),_:1}),e.submitted?g("",!0):(r(),h("form",{key:0,onSubmit:o[2]||(o[2]=u((...d)=>e.submitTopic&&e.submitTopic(...d),["prevent"]))},[t(k,null,{default:i(()=>[t(z,{modelValue:e.topicContent,"onUpdate:modelValue":o[0]||(o[0]=d=>e.topicContent=d),label:"New Topic",required:""},null,8,["modelValue"]),t(N,{filled:"",name:"input-7-4",label:"Description (Optional)",modelValue:e.topicDescription,"onUpdate:modelValue":o[1]||(o[1]=d=>e.topicDescription=d)},null,8,["modelValue"])]),_:1}),t(x,null,{default:i(()=>[t(B),t(c,{color:"red darken-1",text:"",onClick:u(e.closeDialog,["stop"])},{default:i(()=>[a(" Cancel ")]),_:1},8,["onClick"]),t(c,{color:"green darken-1",text:"",variant:"flat",type:"submit"},{default:i(()=>[a(" Submit ")]),_:1})]),_:1})],32)),e.submitted?(r(),v(k,{key:1},{default:i(()=>[s("div",O,[t(F,{color:"purple",indeterminate:"",center:""})])]),_:1})):g("",!0)]),_:1})}const Q=$(E,[["render",L]]),G=b({props:["topic"],data(){return{selectedTopic:null}},methods:{closeDialog(e){this.$emit("close-dialog",e)}},created(){this.selectedTopic=this.topic,console.log(this.selectedTopic)}}),J=s("b",null,"Title:",-1),K={key:0};function X(e,o,l,_,T,y){return r(),v(M,null,{default:i(()=>[t(I,{class:"text-h5"},{default:i(()=>[a(" Topic Infomation ")]),_:1}),t(k,null,{default:i(()=>[J,a(" "+m(e.selectedTopic.Content)+" ",1),t(B),e.selectedTopic.Description?(r(),h("b",K,"Description: ")):g("",!0),a(m(e.selectedTopic.Description),1)]),_:1})]),_:1})}const Y=$(G,[["render",X]]),Z=b({data(){return{loading:!1,createTopic:!1,snackbar:!1,errorMessage:null,retrievedTopic:null,topicSelected:!1}},methods:{handleCreation(e){if(this.errorMessage=null,this.createTopic=!1,e.status)this.errorMessage=e.status;else if(e.ID)console.log("Success!");else return;this.snackbar=!0},convertTime(e){let o=e.split("T"),l=o[0],_=o[1].split("."),T=o[1].split("+");return l+" "+_[0]+"+"+T[1]},retrieveTopic(e=!0){this.loading=!0;let o=`${this.$hostname}/api/topics/`;e?o+="first":o+="random",V.get(o).then(l=>{this.retrievedTopic=l.data,this.loading=!1}).catch(l=>{console.log(l),this.loading=!1})},deleteTopic(){V.delete(`${this.$hostname}/api/topics/${this.retrievedTopic.ID}`).then(e=>{this.retrievedTopic=null}).catch(e=>{console.log(e)})},checkForModification(){this.topicSelected=!1}},components:{CreateTopic:Q,TopicInfomation:Y}}),ee="/assets/polite.4609c368.svg";const p=e=>(H("data-v-8ed26e0e"),e=e(),W(),e),te=p(()=>s("div",{class:"text-body-2 font-weight-light mb-n1"},"Welcome to",-1)),oe=p(()=>s("h1",{class:"text-h2 font-weight-bold"},"Box of Curiosity",-1)),ie=p(()=>s("div",{class:"py-7"},null,-1)),se=p(()=>s("div",{class:"py-3"},null,-1)),ae={key:0},le={class:"text-center"},ne={key:1},re=p(()=>s("div",{class:"text-body font-weight-light mb-n1"},"Topic of the Day",-1)),de={class:"text-body font-weight-light mb-n1"},ce=p(()=>s("div",{class:"py-2"},null,-1)),pe=p(()=>s("b",null,"Finished Discussion",-1));function ue(e,o,l,_,T,y){const d=S("CreateTopic"),U=S("TopicInfomation");return r(),h(j,null,[t(P,{class:"fill-height"},{default:i(()=>[t(D,{modelValue:e.createTopic,"onUpdate:modelValue":o[0]||(o[0]=n=>e.createTopic=n),"max-width":"500"},{default:i(()=>[t(d,{onCloseDialog:e.handleCreation},null,8,["onCloseDialog"])]),_:1},8,["modelValue"]),t(D,{modelValue:e.topicSelected,"onUpdate:modelValue":o[1]||(o[1]=n=>e.topicSelected=n),"max-width":"500"},{default:i(()=>[t(U,{topic:e.retrievedTopic,onCloseDialog:e.checkForModification},null,8,["topic","onCloseDialog"])]),_:1},8,["modelValue"]),t(q,{class:"d-flex align-center text-center fill-height"},{default:i(()=>[t(A,{contain:"",height:"300",src:ee}),te,oe,ie,t(w,{class:"d-flex align-center justify-center"},{default:i(()=>[t(f,{cols:"auto"},{default:i(()=>[t(c,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:o[2]||(o[2]=u(n=>e.createTopic=!0,["stop"]))},{default:i(()=>[t(C,{icon:"mdi-note-edit-outline",size:"large",start:""}),a(" Create Topic ")]),_:1})]),_:1}),t(f,{cols:"auto"},{default:i(()=>[t(c,{color:"primary","min-width":"228","max-width":"228",rel:"noopener noreferrer",size:"x-large",target:"_blank",variant:"flat",onClick:u(e.retrieveTopic,["stop"])},{default:i(()=>[t(C,{icon:"mdi-magnify",size:"large",start:""}),a(" Retrieve Topic ")]),_:1},8,["onClick"])]),_:1}),t(f,{cols:"auto"},{default:i(()=>[t(c,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:o[3]||(o[3]=u(n=>e.retrieveTopic(!1),["stop"]))},{default:i(()=>[t(C,{icon:"mdi-sunglasses",size:"large",start:""}),a(" I'm Feeling Lucky ")]),_:1})]),_:1})]),_:1}),se,e.loading?(r(),h("div",ae,[s("div",le,[t(F,{color:"blue",indeterminate:"",center:""})])])):g("",!0),e.retrievedTopic&&!e.loading?(r(),h("div",ne,[re,s("h1",{class:"text-h4 font-weight-bold font-italic cursor-pointer",onClick:o[4]||(o[4]=n=>e.topicSelected=!0)},m(e.retrievedTopic.Content),1),s("div",de,"Recorded on "+m(e.retrievedTopic.UpdatedAt),1),ce,t(c,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:u(e.deleteTopic,["stop"])},{default:i(()=>[t(C,{icon:"mdi-check-all",size:"large",start:""}),pe]),_:1},8,["onClick"])])):g("",!0)]),_:1})]),_:1}),t(R,{modelValue:e.snackbar,"onUpdate:modelValue":o[6]||(o[6]=n=>e.snackbar=n)},{default:i(()=>[t(w,{class:"d-flex align-center justify-space-between"},{default:i(()=>[t(f,{cols:"auto"},{default:i(()=>[a(m(e.errorMessage?`Something Went Wrong: ${e.errorMessage}`:"Success"),1)]),_:1}),t(f,{cols:"auto"},{default:i(()=>[t(c,{color:"pink",text:"",onClick:o[5]||(o[5]=n=>e.snackbar=!1)},{default:i(()=>[a(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const me=$(Z,[["render",ue],["__scopeId","data-v-8ed26e0e"]]),_e=b({__name:"Home",setup(e){return(o,l)=>(r(),v(me))}});export{_e as default};
