import{a as b,V as D,b as v,c as S,d as x,e as B,f as I,g as M,h as k,i as p,j as z,k as N}from"./VSnackbar.c5c46275.js";import{l as V,N as d,S as T,P as i,n as t,R as l,ah as f,O as h,Q as u,ai as g,aj as s,U,M as F}from"./index.0b79f7fd.js";import{_ as $,B as R,V as r,D as y,E as j,C as P,w as m}from"./VAvatar.455f7d03.js";const W=V({data(){return{topicContent:null,topicDescription:null,userId:1,submitted:!1}},methods:{closeDialog(e){this.$emit("close-dialog",e)},submitTopic(){this.submitted=!0,b.post(`${this.$hostname}/api/topics`,{userId:1,content:this.topicContent,description:this.topicDescription}).then(e=>{this.closeDialog(e.data)}).catch(e=>{console.log(e),this.closeDialog({status:`Failed, ${e}`})})}}}),q={class:"text-center"};function A(e,o,a,C,_,w){return d(),T(I,null,{default:i(()=>[t(D,{class:"text-h5"},{default:i(()=>[l(f(e.submitted?"Please Standby":"Create Topic"),1)]),_:1}),e.submitted?g("",!0):(d(),h("form",{key:0,onSubmit:o[2]||(o[2]=u((...n)=>e.submitTopic&&e.submitTopic(...n),["prevent"]))},[t(v,null,{default:i(()=>[t(S,{modelValue:e.topicContent,"onUpdate:modelValue":o[0]||(o[0]=n=>e.topicContent=n),label:"New Topic",required:""},null,8,["modelValue"]),t(x,{filled:"",name:"input-7-4",label:"Description (Optional)",modelValue:e.topicDescription,"onUpdate:modelValue":o[1]||(o[1]=n=>e.topicDescription=n)},null,8,["modelValue"])]),_:1}),t(B,null,{default:i(()=>[t(R),t(r,{color:"red darken-1",text:"",onClick:u(e.closeDialog,["stop"])},{default:i(()=>[l(" Cancel ")]),_:1},8,["onClick"]),t(r,{color:"green darken-1",text:"",variant:"flat",type:"submit"},{default:i(()=>[l(" Submit ")]),_:1})]),_:1})],32)),e.submitted?(d(),T(v,{key:1},{default:i(()=>[s("div",q,[t(y,{color:"purple",indeterminate:"",center:""})])]),_:1})):g("",!0)]),_:1})}const E=$(W,[["render",A]]),H=V({data(){return{loading:!1,createTopic:!1,snackbar:!1,errorMessage:null,retrievedTopic:null}},methods:{handleCreation(e){if(this.errorMessage=null,this.createTopic=!1,e.status)this.errorMessage=e.status;else if(e.ID)console.log("Success!");else return;this.snackbar=!0},convertTime(e){let o=e.split("T"),a=o[0],C=o[1].split("."),_=o[1].split("+");return a+" "+C[0]+"+"+_[1]},retrieveTopic(e=!0){this.loading=!0;let o=`${this.$hostname}/api/topics/`;e?o+="first":o+="random",b.get(o).then(a=>{this.retrievedTopic=a.data,this.loading=!1}).catch(a=>{console.log(a),this.loading=!1})},deleteTopic(){b.delete(`${this.$hostname}/api/topics/${this.retrievedTopic.ID}`).then(e=>{this.retrievedTopic=null}).catch(e=>{console.log(e)})}},components:{CreateTopic:E}}),O="/assets/polite.4609c368.svg",L=s("div",{class:"text-body-2 font-weight-light mb-n1"},"Welcome to",-1),Q=s("h1",{class:"text-h2 font-weight-bold"},"Box of Curiosity",-1),G=s("div",{class:"py-7"},null,-1),J=s("div",{class:"py-3"},null,-1),K={key:0},X={class:"text-center"},Y={key:1},Z=s("div",{class:"text-body font-weight-light mb-n1"},"Topic of the Day",-1),ee={class:"text-h4 font-weight-bold font-italic"},te={class:"text-body font-weight-light mb-n1"},oe=s("div",{class:"py-2"},null,-1),ie=s("b",null,"Finished Discussion",-1);function se(e,o,a,C,_,w){const n=U("CreateTopic");return d(),h(F,null,[t(z,{class:"fill-height"},{default:i(()=>[t(M,{modelValue:e.createTopic,"onUpdate:modelValue":o[0]||(o[0]=c=>e.createTopic=c),"max-width":"500"},{default:i(()=>[t(n,{onCloseDialog:e.handleCreation},null,8,["onCloseDialog"])]),_:1},8,["modelValue"]),t(j,{class:"d-flex align-center text-center fill-height"},{default:i(()=>[t(P,{contain:"",height:"300",src:O}),L,Q,G,t(k,{class:"d-flex align-center justify-center"},{default:i(()=>[t(p,{cols:"auto"},{default:i(()=>[t(r,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:o[1]||(o[1]=u(c=>e.createTopic=!0,["stop"]))},{default:i(()=>[t(m,{icon:"mdi-note-edit-outline",size:"large",start:""}),l(" Create Topic ")]),_:1})]),_:1}),t(p,{cols:"auto"},{default:i(()=>[t(r,{color:"primary","min-width":"228","max-width":"228",rel:"noopener noreferrer",size:"x-large",target:"_blank",variant:"flat",onClick:u(e.retrieveTopic,["stop"])},{default:i(()=>[t(m,{icon:"mdi-magnify",size:"large",start:""}),l(" Retrieve Topic ")]),_:1},8,["onClick"])]),_:1}),t(p,{cols:"auto"},{default:i(()=>[t(r,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:o[2]||(o[2]=u(c=>e.retrieveTopic(!1),["stop"]))},{default:i(()=>[t(m,{icon:"mdi-sunglasses",size:"large",start:""}),l(" I'm Feeling Lucky ")]),_:1})]),_:1})]),_:1}),J,e.loading?(d(),h("div",K,[s("div",X,[t(y,{color:"blue",indeterminate:"",center:""})])])):g("",!0),e.retrievedTopic&&!e.loading?(d(),h("div",Y,[Z,s("h1",ee,f(e.retrievedTopic.Content),1),s("div",te,"Recorded on "+f(e.retrievedTopic.UpdatedAt),1),oe,t(r,{"min-width":"228","max-width":"228",rel:"noopener noreferrer",target:"_blank",variant:"text",onClick:u(e.deleteTopic,["stop"])},{default:i(()=>[t(m,{icon:"mdi-check-all",size:"large",start:""}),ie]),_:1},8,["onClick"])])):g("",!0)]),_:1})]),_:1}),t(N,{modelValue:e.snackbar,"onUpdate:modelValue":o[4]||(o[4]=c=>e.snackbar=c)},{default:i(()=>[t(k,{class:"d-flex align-center justify-space-between"},{default:i(()=>[t(p,{cols:"auto"},{default:i(()=>[l(f(e.errorMessage?`Something Went Wrong: ${e.errorMessage}`:"Success"),1)]),_:1}),t(p,{cols:"auto"},{default:i(()=>[t(r,{color:"pink",text:"",onClick:o[3]||(o[3]=c=>e.snackbar=!1)},{default:i(()=>[l(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const ae=$(H,[["render",se]]),de=V({__name:"Home",setup(e){return(o,a)=>(d(),T(ae))}});export{de as default};
