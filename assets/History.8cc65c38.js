import{c as V,V as v,e as C}from"./VTextField.512ff940.js";import{l as f,U as c,N as i,O as u,n as t,P as o,R as m,ai as p,ah as S,S as _,M as x}from"./index.fe5f3748.js";import{_ as y,x as T}from"./loader.2dc40990.js";import{b,V as U,a as $}from"./VDivider.9d6f83db.js";const A=f({data(){return{dataSource:null,headers:[{text:"Topic",value:"Content"},{text:"Updated",value:"UpdatedAt",sortable:!0},{text:"Discussed",value:"DeletedAt",sortable:!0}]}},methods:{fetchTopics(e){let a=`${this.$hostname}/api/topics`,r="?";e.deleted&&(r+="all=true"),r!=="?"&&(a+=r),V.get(`${a}`).then(n=>{this.dataSource=n.data,this.dataSource.forEach(s=>{s.CreatedAt=s.CreatedAt,s.UpdatedAt=s.UpdatedAt})}).catch(n=>{console.log(n)})},save(e){console.log(e)}},mounted(){this.fetchTopics({deleted:!0})}}),D={key:0,class:"text-center"};function k(e,a,r,n,s,N){const h=c("v-edit-dialog"),g=c("EasyDataTable");return i(),u(x,null,[t(U,{flat:""},{default:o(()=>[t(b,{style:{"text-align":"center"}},{default:o(()=>[m("History of Us")]),_:1})]),_:1}),t($,{class:"mx-4",vertical:""}),e.dataSource?p("",!0):(i(),u("div",D,[t(T,{indeterminate:"",color:"green"})])),t(C,{class:"fill-height"},{"item.name":o(l=>[t(h,{"return-value":l.item.Content,onSave:a[0]||(a[0]=d=>e.save(d))},{input:o(()=>[t(v,{modelValue:l.item.Content,"onUpdate:modelValue":d=>l.item.Content=d,label:"Edit","single-line":"",counter:""},null,8,["modelValue","onUpdate:modelValue"])]),default:o(()=>[m(S(l.item.Content)+" ",1)]),_:2},1032,["return-value"])]),default:o(()=>[e.dataSource?(i(),_(g,{key:0,headers:e.headers,items:e.dataSource,"rows-per-page":10},null,8,["headers","items"])):p("",!0)]),_:1})],64)}const E=y(A,[["render",k]]),F=f({__name:"History",setup(e){return(a,r)=>(i(),_(E))}});export{F as default};
